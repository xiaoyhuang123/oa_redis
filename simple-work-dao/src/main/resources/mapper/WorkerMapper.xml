<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ft.backend.work.dao.WorkerMapper" >

  <!-- 支持缓存配置 -->
  <cache type="com.ft.backend.work.common.RedisCache" />

  <resultMap id="BaseResultMap" type="com.ft.backend.work.model.Worker" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    <id column="id" property="id" jdbcType="BIGINT" />
    <result column="work_number" property="workNumber" jdbcType="VARCHAR" />
    <result column="name" property="name" jdbcType="VARCHAR" />
    <result column="sex" property="sex" jdbcType="VARCHAR" />
    <result column="nation" property="nation" jdbcType="VARCHAR" />
    <result column="cardid" property="cardid" jdbcType="VARCHAR" />
    <result column="birthday" property="birthday" jdbcType="DATE" />
    <result column="join_time" property="joinTime" jdbcType="DATE" />
    <result column="zhiwu_id" property="zhiwuId" jdbcType="INTEGER" />
    <result column="zhiwu_jc" property="zhiwuJc" jdbcType="VARCHAR" />
    <result column="zhiwu_name" property="zhiwuName" jdbcType="VARCHAR" />
    <result column="telno" property="telno" jdbcType="VARCHAR" />
    <result column="chejian_id" property="chejianId" jdbcType="BIGINT" />
    <result column="chejian_name" property="chejianName" jdbcType="VARCHAR" />
    <result column="chedui_id" property="cheduiId" jdbcType="BIGINT" />
    <result column="chedui_name" property="cheduiName" jdbcType="VARCHAR" />
    <result column="imgurl" property="imgurl" jdbcType="VARCHAR" />
    <result column="is_deleted" property="isDeleted" jdbcType="INTEGER" />
    <result column="political_id" property="politicalId" jdbcType="INTEGER" />
    <result column="political" property="political" jdbcType="VARCHAR" />
    <result column="work_card_no" property="workCardNo" jdbcType="VARCHAR" />
    <result column="group_id" property="groupId" jdbcType="BIGINT" />
    <result column="group_name" property="groupName" jdbcType="VARCHAR" />
    <result column="allow_train_type_id" property="allowTrainTypeId" jdbcType="INTEGER" />
    <result column="allow_train_type_name" property="allowTrainTypeName" jdbcType="VARCHAR" />
    <result column="first_get_time" property="firstGetTime" jdbcType="TIMESTAMP" />
    <result column="start_time" property="startTime" jdbcType="TIMESTAMP" />
    <result column="end_time" property="endTime" jdbcType="TIMESTAMP" />
    <result column="address" property="address" jdbcType="VARCHAR" />
    <result column="license_img_url" property="licenseImgUrl" jdbcType="VARCHAR" />
    <result column="position_title_id" property="positionTitleId" jdbcType="INTEGER" />
    <result column="position_title" property="positionTitle" jdbcType="VARCHAR" />
    <result column="degree_id" property="degreeId" jdbcType="INTEGER" />
    <result column="degree_name" property="degreeName" jdbcType="VARCHAR" />
    <result column="province" property="province" jdbcType="VARCHAR" />
    <result column="feature" property="feature" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    id, work_number, name, sex, nation, cardid, birthday, join_time, zhiwu_id, zhiwu_jc,
    zhiwu_name, telno, chejian_id, chejian_name, chedui_id, chedui_name, imgurl, is_deleted,
    political_id, political, work_card_no, group_id, group_name, allow_train_type_id,
    allow_train_type_name, first_get_time, start_time, end_time, address, license_img_url,
    position_title_id, position_title,degree_id, degree_name,province,feature
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    select
    <include refid="Base_Column_List" />
    from worker
    where id = #{id,jdbcType=BIGINT}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    delete from worker
    where id = #{id,jdbcType=BIGINT}
  </delete>
  <insert id="insert" parameterType="com.ft.backend.work.model.Worker" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into worker (id, work_number, name,
    sex, nation, cardid,
    birthday, join_time, zhiwu_id,
    zhiwu_jc, zhiwu_name, telno,
    chejian_id, chejian_name, chedui_id,
    chedui_name, imgurl, is_deleted,
    political_id, political, work_card_no,
    group_id, group_name, allow_train_type_id,
    allow_train_type_name, first_get_time, start_time,
    end_time, address, license_img_url,
    position_title_id, position_title,degree_id, degree_name,province)
    values (#{id,jdbcType=BIGINT}, #{workNumber,jdbcType=VARCHAR}, #{name,jdbcType=VARCHAR},
    #{sex,jdbcType=VARCHAR}, #{nation,jdbcType=VARCHAR}, #{cardid,jdbcType=VARCHAR},
    #{birthday,jdbcType=DATE}, #{joinTime,jdbcType=DATE}, #{zhiwuId,jdbcType=INTEGER},
    #{zhiwuJc,jdbcType=VARCHAR}, #{zhiwuName,jdbcType=VARCHAR}, #{telno,jdbcType=VARCHAR},
    #{chejianId,jdbcType=BIGINT}, #{chejianName,jdbcType=VARCHAR}, #{cheduiId,jdbcType=BIGINT},
    #{cheduiName,jdbcType=VARCHAR}, #{imgurl,jdbcType=VARCHAR}, #{isDeleted,jdbcType=INTEGER},
    #{politicalId,jdbcType=INTEGER}, #{political,jdbcType=VARCHAR}, #{workCardNo,jdbcType=VARCHAR},
    #{groupId,jdbcType=BIGINT}, #{groupName,jdbcType=VARCHAR}, #{allowTrainTypeId,jdbcType=INTEGER},
    #{allowTrainTypeName,jdbcType=VARCHAR}, #{firstGetTime,jdbcType=TIMESTAMP}, #{startTime,jdbcType=TIMESTAMP},
    #{endTime,jdbcType=TIMESTAMP}, #{address,jdbcType=VARCHAR}, #{licenseImgUrl,jdbcType=VARCHAR},
    #{positionTitleId,jdbcType=INTEGER}, #{positionTitle,jdbcType=VARCHAR},
    #{degreeId,jdbcType=INTEGER}, #{degreeName,jdbcType=VARCHAR}, #{province,jdbcType=VARCHAR},#{feature,jdbcType=VARCHAR})
  </insert>
  <insert id="insertSelective" useGeneratedKeys="true" keyProperty="id" parameterType="com.ft.backend.work.model.Worker" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    insert into worker
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        id,
      </if>
      <if test="workNumber != null" >
        work_number,
      </if>
      <if test="name != null" >
        name,
      </if>
      <if test="sex != null" >
        sex,
      </if>
      <if test="nation != null" >
        nation,
      </if>
      <if test="cardid != null" >
        cardid,
      </if>
      <if test="birthday != null" >
        birthday,
      </if>
      <if test="joinTime != null" >
        join_time,
      </if>
      <if test="zhiwuId != null" >
        zhiwu_id,
      </if>
      <if test="zhiwuJc != null" >
        zhiwu_jc,
      </if>
      <if test="zhiwuName != null" >
        zhiwu_name,
      </if>
      <if test="telno != null" >
        telno,
      </if>
      <if test="chejianId != null" >
        chejian_id,
      </if>
      <if test="chejianName != null" >
        chejian_name,
      </if>
      <if test="cheduiId != null" >
        chedui_id,
      </if>
      <if test="cheduiName != null" >
        chedui_name,
      </if>
      <if test="imgurl != null" >
        imgurl,
      </if>
      <if test="isDeleted != null" >
        is_deleted,
      </if>
      <if test="politicalId != null" >
        political_id,
      </if>
      <if test="political != null" >
        political,
      </if>
      <if test="workCardNo != null" >
        work_card_no,
      </if>
      <if test="groupId != null" >
        group_id,
      </if>
      <if test="groupName != null" >
        group_name,
      </if>
      <if test="allowTrainTypeId != null" >
        allow_train_type_id,
      </if>
      <if test="allowTrainTypeName != null" >
        allow_train_type_name,
      </if>
      <if test="firstGetTime != null" >
        first_get_time,
      </if>
      <if test="startTime != null" >
        start_time,
      </if>
      <if test="endTime != null" >
        end_time,
      </if>
      <if test="address != null" >
        address,
      </if>
      <if test="licenseImgUrl != null" >
        license_img_url,
      </if>
      <if test="positionTitleId != null" >
        position_title_id,
      </if>
      <if test="positionTitle != null" >
        position_title,
      </if>
      <if test="degreeId != null" >
        degree_id,
      </if>
      <if test="degreeName != null" >
        degree_name,
      </if>
      <if test="province != null" >
        province,
      </if>
      <if test="feature != null" >
        feature,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=BIGINT},
      </if>
      <if test="workNumber != null" >
        #{workNumber,jdbcType=VARCHAR},
      </if>
      <if test="name != null" >
        #{name,jdbcType=VARCHAR},
      </if>
      <if test="sex != null" >
        #{sex,jdbcType=VARCHAR},
      </if>
      <if test="nation != null" >
        #{nation,jdbcType=VARCHAR},
      </if>
      <if test="cardid != null" >
        #{cardid,jdbcType=VARCHAR},
      </if>
      <if test="birthday != null" >
        #{birthday,jdbcType=DATE},
      </if>
      <if test="joinTime != null" >
        #{joinTime,jdbcType=DATE},
      </if>
      <if test="zhiwuId != null" >
        #{zhiwuId,jdbcType=INTEGER},
      </if>
      <if test="zhiwuJc != null" >
        #{zhiwuJc,jdbcType=VARCHAR},
      </if>
      <if test="zhiwuName != null" >
        #{zhiwuName,jdbcType=VARCHAR},
      </if>
      <if test="telno != null" >
        #{telno,jdbcType=VARCHAR},
      </if>
      <if test="chejianId != null" >
        #{chejianId,jdbcType=BIGINT},
      </if>
      <if test="chejianName != null" >
        #{chejianName,jdbcType=VARCHAR},
      </if>
      <if test="cheduiId != null" >
        #{cheduiId,jdbcType=BIGINT},
      </if>
      <if test="cheduiName != null" >
        #{cheduiName,jdbcType=VARCHAR},
      </if>
      <if test="imgurl != null" >
        #{imgurl,jdbcType=VARCHAR},
      </if>
      <if test="isDeleted != null" >
        #{isDeleted,jdbcType=INTEGER},
      </if>
      <if test="politicalId != null" >
        #{politicalId,jdbcType=INTEGER},
      </if>
      <if test="political != null" >
        #{political,jdbcType=VARCHAR},
      </if>
      <if test="workCardNo != null" >
        #{workCardNo,jdbcType=VARCHAR},
      </if>
      <if test="groupId != null" >
        #{groupId,jdbcType=BIGINT},
      </if>
      <if test="groupName != null" >
        #{groupName,jdbcType=VARCHAR},
      </if>
      <if test="allowTrainTypeId != null" >
        #{allowTrainTypeId,jdbcType=INTEGER},
      </if>
      <if test="allowTrainTypeName != null" >
        #{allowTrainTypeName,jdbcType=VARCHAR},
      </if>
      <if test="firstGetTime != null" >
        #{firstGetTime,jdbcType=TIMESTAMP},
      </if>
      <if test="startTime != null" >
        #{startTime,jdbcType=TIMESTAMP},
      </if>
      <if test="endTime != null" >
        #{endTime,jdbcType=TIMESTAMP},
      </if>
      <if test="address != null" >
        #{address,jdbcType=VARCHAR},
      </if>
      <if test="licenseImgUrl != null" >
        #{licenseImgUrl,jdbcType=VARCHAR},
      </if>
      <if test="positionTitleId != null" >
        #{positionTitleId,jdbcType=INTEGER},
      </if>
      <if test="positionTitle != null" >
        #{positionTitle,jdbcType=VARCHAR},
      </if>
      <if test="degreeId != null" >
        #{degreeId,jdbcType=INTEGER},
      </if>
      <if test="degreeName != null" >
        #{degreeName,jdbcType=VARCHAR},
      </if>
      <if test="province != null" >
        #{province,jdbcType=VARCHAR},
      </if>
      <if test="feature != null" >
        #{feature,jdbcType=VARCHAR},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.ft.backend.work.model.Worker" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update worker
    <set >
      <if test="workNumber != null" >
        work_number = #{workNumber,jdbcType=VARCHAR},
      </if>
      <if test="name != null" >
        name = #{name,jdbcType=VARCHAR},
      </if>
      <if test="sex != null" >
        sex = #{sex,jdbcType=VARCHAR},
      </if>
      <if test="nation != null" >
        nation = #{nation,jdbcType=VARCHAR},
      </if>
      <if test="cardid != null" >
        cardid = #{cardid,jdbcType=VARCHAR},
      </if>
      <if test="birthday != null" >
        birthday = #{birthday,jdbcType=DATE},
      </if>
      <if test="joinTime != null" >
        join_time = #{joinTime,jdbcType=DATE},
      </if>
      <if test="zhiwuId != null" >
        zhiwu_id = #{zhiwuId,jdbcType=INTEGER},
      </if>
      <if test="zhiwuJc != null" >
        zhiwu_jc = #{zhiwuJc,jdbcType=VARCHAR},
      </if>
      <if test="zhiwuName != null" >
        zhiwu_name = #{zhiwuName,jdbcType=VARCHAR},
      </if>
      <if test="telno != null" >
        telno = #{telno,jdbcType=VARCHAR},
      </if>
      <if test="chejianId != null" >
        chejian_id = #{chejianId,jdbcType=BIGINT},
      </if>
      <if test="chejianName != null" >
        chejian_name = #{chejianName,jdbcType=VARCHAR},
      </if>
      <if test="cheduiId != null" >
        chedui_id = #{cheduiId,jdbcType=BIGINT},
      </if>
      <if test="cheduiName != null" >
        chedui_name = #{cheduiName,jdbcType=VARCHAR},
      </if>
      <if test="imgurl != null" >
        imgurl = #{imgurl,jdbcType=VARCHAR},
      </if>
      <if test="isDeleted != null" >
        is_deleted = #{isDeleted,jdbcType=INTEGER},
      </if>
      <if test="politicalId != null" >
        political_id = #{politicalId,jdbcType=INTEGER},
      </if>
      <if test="political != null" >
        political = #{political,jdbcType=VARCHAR},
      </if>
      <if test="workCardNo != null" >
        work_card_no = #{workCardNo,jdbcType=VARCHAR},
      </if>
      <if test="groupId != null" >
        group_id = #{groupId,jdbcType=BIGINT},
      </if>
      <if test="groupName != null" >
        group_name = #{groupName,jdbcType=VARCHAR},
      </if>
      <if test="allowTrainTypeId != null" >
        allow_train_type_id = #{allowTrainTypeId,jdbcType=INTEGER},
      </if>
      <if test="allowTrainTypeName != null" >
        allow_train_type_name = #{allowTrainTypeName,jdbcType=VARCHAR},
      </if>
      <if test="firstGetTime != null" >
        first_get_time = #{firstGetTime,jdbcType=TIMESTAMP},
      </if>
      <if test="startTime != null" >
        start_time = #{startTime,jdbcType=TIMESTAMP},
      </if>
      <if test="endTime != null" >
        end_time = #{endTime,jdbcType=TIMESTAMP},
      </if>
      <if test="address != null" >
        address = #{address,jdbcType=VARCHAR},
      </if>
      <if test="licenseImgUrl != null" >
        license_img_url = #{licenseImgUrl,jdbcType=VARCHAR},
      </if>
      <if test="positionTitleId != null" >
        position_title_id = #{positionTitleId,jdbcType=INTEGER},
      </if>
      <if test="positionTitle != null" >
        position_title = #{positionTitle,jdbcType=VARCHAR},
      </if>
      <if test="degreeId != null" >
        degree_id = #{degreeId,jdbcType=INTEGER},
      </if>
      <if test="degreeName != null" >
        degree_name = #{degreeName,jdbcType=VARCHAR},
      </if>
      <if test="province != null" >
        province = #{province,jdbcType=VARCHAR},
      </if>
      <if test="feature != null" >
        feature = #{feature,jdbcType=VARCHAR},
      </if>
    </set>
    where id = #{id,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.ft.backend.work.model.Worker" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
    -->
    update worker
    set work_number = #{workNumber,jdbcType=VARCHAR},
    name = #{name,jdbcType=VARCHAR},
    sex = #{sex,jdbcType=VARCHAR},
    nation = #{nation,jdbcType=VARCHAR},
    cardid = #{cardid,jdbcType=VARCHAR},
    birthday = #{birthday,jdbcType=DATE},
    join_time = #{joinTime,jdbcType=DATE},
    zhiwu_id = #{zhiwuId,jdbcType=INTEGER},
    zhiwu_jc = #{zhiwuJc,jdbcType=VARCHAR},
    zhiwu_name = #{zhiwuName,jdbcType=VARCHAR},
    telno = #{telno,jdbcType=VARCHAR},
    chejian_id = #{chejianId,jdbcType=BIGINT},
    chejian_name = #{chejianName,jdbcType=VARCHAR},
    chedui_id = #{cheduiId,jdbcType=BIGINT},
    chedui_name = #{cheduiName,jdbcType=VARCHAR},
    imgurl = #{imgurl,jdbcType=VARCHAR},
    is_deleted = #{isDeleted,jdbcType=INTEGER},
    political_id = #{politicalId,jdbcType=INTEGER},
    political = #{political,jdbcType=VARCHAR},
    work_card_no = #{workCardNo,jdbcType=VARCHAR},
    group_id = #{groupId,jdbcType=BIGINT},
    group_name = #{groupName,jdbcType=VARCHAR},
    allow_train_type_id = #{allowTrainTypeId,jdbcType=INTEGER},
    allow_train_type_name = #{allowTrainTypeName,jdbcType=VARCHAR},
    first_get_time = #{firstGetTime,jdbcType=TIMESTAMP},
    start_time = #{startTime,jdbcType=TIMESTAMP},
    end_time = #{endTime,jdbcType=TIMESTAMP},
    address = #{address,jdbcType=VARCHAR},
    license_img_url = #{licenseImgUrl,jdbcType=VARCHAR},
    position_title_id = #{positionTitleId,jdbcType=INTEGER},
    position_title = #{positionTitle,jdbcType=VARCHAR},
    degree_id = #{degreeId,jdbcType=INTEGER},
    degree_name = #{degreeName,jdbcType=VARCHAR},
    province = #{province,jdbcType=VARCHAR},
    feature = #{feature,jdbcType=VARCHAR}
    where id = #{id,jdbcType=BIGINT}
  </update>


  <!-- 查询总条数 -->
  <select id="countByCondition" parameterType="map" resultType="java.lang.Integer">
    SELECT COUNT(*)
    from worker
    <include refid="QUERY_WHERE_PART_CLAUSE"/>
  </select>

  <!-- 分页 -->
  <sql id="QUERY_LIMIT_CONDITION">
    <if test="pageIndex != null and pageIndex &gt; 0 and pageSize != null and pageSize &gt; 0">LIMIT #{offset}, #{pageSize}</if>
  </sql>
  <!-- 查询条件 -->
  <sql id="QUERY_WHERE_PART_CLAUSE">
    <trim prefix="where" prefixOverrides="and | or">
      <if test="workId != null" >
        AND id = #{workId,jdbcType=BIGINT}
      </if>
      <if test="workNumber != null" >
        AND work_number = #{workNumber,jdbcType=VARCHAR}
      </if>
      <if test="name != null" >
        AND `name` =#{name,jdbcType=VARCHAR}
      </if>
      <if test="cardid != null" >
        AND cardid = #{cardid,jdbcType=VARCHAR}
      </if>
      <if test="chejianId != null" >
        AND chejian_id =#{chejianId,jdbcType=BIGINT}
      </if>
      <if test="chejianName != null" >
        AND chejian_name =#{chejianName,jdbcType=VARCHAR}
      </if>
      <if test="cheduiId != null" >
        AND  chedui_id= #{cheduiId,jdbcType=BIGINT}
      </if>
      <if test="cheduiName != null" >
        AND chedui_name =#{cheduiName,jdbcType=VARCHAR}
      </if>
      <if test="isDeleted != null" >
        AND is_deleted =#{isDeleted,jdbcType=INTEGER}
      </if>
      <if test="zhiwuJc != null and zhiwuJc!=''" >
        AND zhiwu_jc =#{zhiwuJc,jdbcType=VARCHAR}
      </if>
      <if test="politicId != null " >
        AND political_id =#{politicId,jdbcType=BIGINT}
      </if>
      <if test="degreeId != null " >
        AND degree_id =#{degreeId,jdbcType=BIGINT}
      </if>
      <if test="positionTitleId != null " >
        AND position_title_id =#{positionTitleId,jdbcType=BIGINT}
      </if>
      <if test="province != null " >
        AND province =#{province,jdbcType=VARCHAR}
      </if>
      <if test="feature != null " >
        AND feature =#{feature,jdbcType=VARCHAR}
      </if>
      <if test="joinTimeStart != null " >
        <![CDATA[  AND join_time   >= #{joinTimeStart,jdbcType=TIMESTAMP}  ]]>
      </if>
      <if test="joinTimeEnd != null " >
        <![CDATA[  AND join_time   <= #{joinTimeEnd,jdbcType=TIMESTAMP}  ]]>
      </if>

    </trim>
  </sql>

  <select id="selectByCondition" parameterType="map" resultMap="BaseResultMap">
    select <include refid="Base_Column_List" />
    from worker
    <include refid="QUERY_WHERE_PART_CLAUSE"/>
    <if test="orderColumn != null and orderType != null"><![CDATA[  ORDER BY ${orderColumn}  ${orderType} ]]></if>
    <include refid="QUERY_LIMIT_CONDITION"/>
  </select>

  <delete id="deleteById" parameterType="java.lang.Long">
    delete from worker
    where id = #{id}
  </delete>

  <select id="selectByIdList" resultMap="BaseResultMap">
    SELECT    <include refid="Base_Column_List"/>
    FROM worker
    WHERE id IN (
    <foreach collection="list" item="item" separator=",">
      #{item}
    </foreach>
    )
  </select>

</mapper>